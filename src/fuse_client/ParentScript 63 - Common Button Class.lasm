property pmodel, pOrigWidth, pMaxWidth, pFixedSize, pAlignment, pButtonImg, pButtonText, pCachedImgs, pClickPass, pBlend, pProp

on prepare me
  [  0] getparam 0 .............................. <me>
  [  2] pushsymb 1493 ........................... <#pProps>
  [  5] pushsymb 456 ............................ <#type>
  [  8] pusharglist 3 ........................... <me, #pProps, #type>
  [ 10] objcall 290 ............................. <me.pProps[#type]>
  [ 13] getparam 0 .............................. <me>
  [ 15] pushsymb 1493 ........................... <#pProps>
  [ 18] pushsymb 457 ............................ <#model>
  [ 21] pusharglist 3 ........................... <me, #pProps, #model>
  [ 23] objcall 290 ............................. <me.pProps[#model]>
  [ 26] joinstr ................................. <me.pProps[#type] & me.pProps[#model]>
  [ 27] pushcons 0 .............................. <".element">
  [ 29] joinstr ................................. <me.pProps[#type] & me.pProps[#model] & ".element">
  [ 30] setlocal 0 .............................. tField = me.pProps[#type] & me.pProps[#model] & ".element"
  [ 32] pushsymb 459 ............................ <#layout_parser>
  [ 35] pusharglist 1 ........................... <#layout_parser>
  [ 37] extcall 58 .............................. <getObject(#layout_parser)>
  [ 39] getlocal 0 .............................. <tField>
  [ 41] pusharglist 2 ........................... <getObject(#layout_parser), tField>
  [ 43] objcall 460 ............................. <getObject(#layout_parser).parse(tField)>
  [ 46] setprop 458 ............................. pProp = getObject(#layout_parser).parse(tField)
  [ 49] getprop 458 ............................. <pProp>
  [ 52] pushzero ................................ <0>
  [ 53] eq ...................................... <pProp = 0>
  [ 54] jmpifz [ 62] ............................ if pProp = 0 then
  [ 57] pushzero ................................ <0>
  [ 58] pusharglistnoret 1 ...................... <0>
  [ 60] extcall 25 .............................. return 0
  [ 62] getparam 0 .............................. <me>
  [ 64] pushsymb 1493 ........................... <#pProps>
  [ 67] pushsymb 457 ............................ <#model>
  [ 70] pusharglist 3 ........................... <me, #pProps, #model>
  [ 72] objcall 290 ............................. <me.pProps[#model]>
  [ 75] setprop 470 ............................. pmodel = me.pProps[#model]
  [ 78] getparam 0 .............................. <me>
  [ 80] pushsymb 1493 ........................... <#pProps>
  [ 83] pushsymb 42 ............................. <#width>
  [ 85] pusharglist 3 ........................... <me, #pProps, #width>
  [ 87] objcall 290 ............................. <me.pProps[#width]>
  [ 90] setprop 475 ............................. pOrigWidth = me.pProps[#width]
  [ 93] getparam 0 .............................. <me>
  [ 95] pushsymb 1493 ........................... <#pProps>
  [ 98] pushsymb 481 ............................ <#maxwidth>
  [101] pusharglist 3 ........................... <me, #pProps, #maxwidth>
  [103] objcall 290 ............................. <me.pProps[#maxwidth]>
  [106] setprop 480 ............................. pMaxWidth = me.pProps[#maxwidth]
  [109] getparam 0 .............................. <me>
  [111] pushsymb 1493 ........................... <#pProps>
  [114] pushsymb 483 ............................ <#fixedsize>
  [117] pusharglist 3 ........................... <me, #pProps, #fixedsize>
  [119] objcall 290 ............................. <me.pProps[#fixedsize]>
  [122] setprop 482 ............................. pFixedSize = me.pProps[#fixedsize]
  [125] getparam 0 .............................. <me>
  [127] pushsymb 1493 ........................... <#pProps>
  [130] pushsymb 472 ............................ <#alignment>
  [133] pusharglist 3 ........................... <me, #pProps, #alignment>
  [135] objcall 290 ............................. <me.pProps[#alignment]>
  [138] setprop 471 ............................. pAlignment = me.pProps[#alignment]
  [141] getparam 0 .............................. <me>
  [143] pushsymb 1493 ........................... <#pProps>
  [146] pushsymb 517 ............................ <#key>
  [149] pusharglist 3 ........................... <me, #pProps, #key>
  [151] objcall 290 ............................. <me.pProps[#key]>
  [154] pusharglist 1 ........................... <me.pProps[#key]>
  [156] extcall 259 ............................. <getText(me.pProps[#key])>
  [159] setprop 1548 ............................ pButtonText = getText(me.pProps[#key])
  [162] getparam 0 .............................. <me>
  [164] pushsymb 1493 ........................... <#pProps>
  [167] pushsymb 503 ............................ <#blend>
  [170] pusharglist 3 ........................... <me, #pProps, #blend>
  [172] objcall 290 ............................. <me.pProps[#blend]>
  [175] setprop 1549 ............................ pBlend = me.pProps[#blend]
  [178] pusharglist 0 ........................... <[:]>
  [180] pushproplist ............................ <[:]>
  [181] setprop 1550 ............................ pCachedImgs = [:]
  [184] getprop 480 ............................. <pMaxWidth>
  [187] pusharglist 1 ........................... <pMaxWidth>
  [189] extcall 683 ............................. <integerp(pMaxWidth)>
  [192] not ..................................... <not integerp(pMaxWidth)>
  [193] jmpifz [202] ............................ if not integerp(pMaxWidth) then
  [196] pushint16 300 ........................... <300>
  [199] setprop 480 ............................. pMaxWidth = 300
  [202] getprop 482 ............................. <pFixedSize>
  [205] pusharglist 1 ........................... <pFixedSize>
  [207] extcall 20 .............................. <voidp(pFixedSize)>
  [209] jmpifz [216] ............................ if voidp(pFixedSize) then
  [212] pushzero ................................ <0>
  [213] setprop 482 ............................. pFixedSize = 0
  [216] getparam 0 .............................. <me>
  [218] pusharglist 0 ........................... <>
  [220] extcall 32 .............................. <VOID>
  [222] pushsymb 496 ............................ <#up>
  [225] pusharglistnoret 3 ...................... <me, VOID, #up>
  [227] objcall 450 ............................. me.UpdateImageObjects(VOID, #up)
  [230] getparam 0 .............................. <me>
  [232] pusharglist 1 ........................... <me>
  [234] objcall 1544 ............................ <me.setButtonImage()>
  [237] pusharglistnoret 1 ...................... <me.setButtonImage()>
  [239] extcall 25 .............................. return me.setButtonImage()
  [241] ret
end

on setButtonImage me
  [  0] getparam 0 .............................. <me>
  [  2] getparam 0 .............................. <me>
  [  4] getprop 1548 ............................ <pButtonText>
  [  7] pushsymb 496 ............................ <#up>
  [ 10] pusharglist 3 ........................... <me, pButtonText, #up>
  [ 12] objcall 1546 ............................ <me.createButtonImg(pButtonText, #up)>
  [ 15] setobjprop 498 .......................... me.pimage = me.createButtonImg(pButtonText, #up)
  [ 18] getparam 0 .............................. <me>
  [ 20] getchainedprop 35 ....................... <me.pSprite>
  [ 22] getchainedprop 41 ....................... <me.pSprite.member>
  [ 24] getobjprop 501 .......................... <me.pSprite.member.regPoint>
  [ 27] setlocal 0 .............................. tTempOffset = me.pSprite.member.regPoint
  [ 29] getparam 0 .............................. <me>
  [ 31] getchainedprop 465 ...................... <me.pBuffer>
  [ 34] getparam 0 .............................. <me>
  [ 36] getobjprop 498 .......................... <me.pimage>
  [ 39] setobjprop 502 .......................... me.pBuffer.image = me.pimage
  [ 42] getparam 0 .............................. <me>
  [ 44] getchainedprop 465 ...................... <me.pBuffer>
  [ 47] getlocal 0 .............................. <tTempOffset>
  [ 49] setobjprop 501 .......................... me.pBuffer.regPoint = tTempOffset
  [ 52] getparam 0 .............................. <me>
  [ 54] getparam 0 .............................. <me>
  [ 56] getchainedprop 498 ...................... <me.pimage>
  [ 59] getobjprop 42 ........................... <me.pimage.width>
  [ 61] setobjprop 499 .......................... me.pwidth = me.pimage.width
  [ 64] getparam 0 .............................. <me>
  [ 66] getparam 0 .............................. <me>
  [ 68] getchainedprop 498 ...................... <me.pimage>
  [ 71] getobjprop 43 ........................... <me.pimage.height>
  [ 73] setobjprop 504 .......................... me.pheight = me.pimage.height
  [ 76] getparam 0 .............................. <me>
  [ 78] getparam 0 .............................. <me>
  [ 80] getchainedprop 35 ....................... <me.pSprite>
  [ 82] getobjprop 506 .......................... <me.pSprite.locH>
  [ 85] setobjprop 467 .......................... me.pLocX = me.pSprite.locH
  [ 88] getparam 0 .............................. <me>
  [ 90] getparam 0 .............................. <me>
  [ 92] getchainedprop 35 ....................... <me.pSprite>
  [ 94] getobjprop 507 .......................... <me.pSprite.locV>
  [ 97] setobjprop 469 .......................... me.pLocY = me.pSprite.locV
  [100] getprop 471 ............................. <pAlignment>
  [103] peek 0 .................................. case pAlignment of
  [105] pushsymb 508 ............................ <#center>
  [108] eq
  [109] jmpifz [138] ............................ (case) #center:
  [112] getparam 0 .............................. <me>
  [114] getparam 0 .............................. <me>
  [116] getobjprop 467 .......................... <me.pLocX>
  [119] getparam 0 .............................. <me>
  [121] getobjprop 499 .......................... <me.pwidth>
  [124] getprop 475 ............................. <pOrigWidth>
  [127] sub ..................................... <me.pwidth - pOrigWidth>
  [128] pushint8 2 .............................. <2>
  [130] div ..................................... <(me.pwidth - pOrigWidth) / 2>
  [131] sub ..................................... <me.pLocX - ((me.pwidth - pOrigWidth) / 2)>
  [132] setobjprop 467 .......................... me.pLocX = me.pLocX - ((me.pwidth - pOrigWidth) / 2)
  [135] jmp [167]
  [138] peek 0
  [140] pushsymb 509 ............................ <#right>
  [143] eq
  [144] jmpifz [167] ............................ (case) #right:
  [147] getparam 0 .............................. <me>
  [149] getparam 0 .............................. <me>
  [151] getobjprop 467 .......................... <me.pLocX>
  [154] getparam 0 .............................. <me>
  [156] getobjprop 499 .......................... <me.pwidth>
  [159] getprop 475 ............................. <pOrigWidth>
  [162] sub ..................................... <me.pwidth - pOrigWidth>
  [163] sub ..................................... <me.pLocX - (me.pwidth - pOrigWidth)>
  [164] setobjprop 467 .......................... me.pLocX = me.pLocX - (me.pwidth - pOrigWidth)
  [167] pop 1 ................................... end case
  [169] getparam 0 .............................. <me>
  [171] getchainedprop 35 ....................... <me.pSprite>
  [173] getparam 0 .............................. <me>
  [175] getobjprop 467 .......................... <me.pLocX>
  [178] getparam 0 .............................. <me>
  [180] getobjprop 469 .......................... <me.pLocY>
  [183] pusharglist 2 ........................... <me.pLocX, me.pLocY>
  [185] extcall 510 ............................. <point(me.pLocX, me.pLocY)>
  [188] setobjprop 511 .......................... me.pSprite.loc = point(me.pLocX, me.pLocY)
  [191] getparam 0 .............................. <me>
  [193] getchainedprop 35 ....................... <me.pSprite>
  [195] getparam 0 .............................. <me>
  [197] getobjprop 499 .......................... <me.pwidth>
  [200] setobjprop 42 ........................... me.pSprite.width = me.pwidth
  [202] getparam 0 .............................. <me>
  [204] getchainedprop 35 ....................... <me.pSprite>
  [206] getparam 0 .............................. <me>
  [208] getobjprop 504 .......................... <me.pheight>
  [211] setobjprop 43 ........................... me.pSprite.height = me.pheight
  [213] pushint8 1 .............................. <1>
  [215] pusharglistnoret 1 ...................... <1>
  [217] extcall 25 .............................. return 1
  [219] ret
end

on Activate me
  [  0] getparam 0 .............................. <me>
  [  2] getchainedprop 35 ....................... <me.pSprite>
  [  4] pushint8 100 ............................ <100>
  [  6] setobjprop 503 .......................... me.pSprite.blend = 100
  [  9] pushint8 100 ............................ <100>
  [ 11] setprop 1549 ............................ pBlend = 100
  [ 14] pushint8 1 .............................. <1>
  [ 16] pusharglistnoret 1 ...................... <1>
  [ 18] extcall 25 .............................. return 1
  [ 20] ret
end

on deactivate me
  [  0] getparam 0 .............................. <me>
  [  2] pushsymb 496 ............................ <#up>
  [  5] pusharglistnoret 2 ...................... <me, #up>
  [  7] objcall 1545 ............................ me.changeState(#up)
  [ 10] getparam 0 .............................. <me>
  [ 12] getchainedprop 35 ....................... <me.pSprite>
  [ 14] pushint8 50 ............................. <50>
  [ 16] setobjprop 503 .......................... me.pSprite.blend = 50
  [ 19] pushint8 50 ............................. <50>
  [ 21] setprop 1549 ............................ pBlend = 50
  [ 24] pushint8 1 .............................. <1>
  [ 26] pusharglistnoret 1 ...................... <1>
  [ 28] extcall 25 .............................. return 1
  [ 30] ret
end

on setText me, tText
  [  0] getparam 1 .............................. <tText>
  [  2] setprop 1548 ............................ pButtonText = tText
  [  5] pusharglist 0 ........................... <[:]>
  [  7] pushproplist ............................ <[:]>
  [  8] setprop 1550 ............................ pCachedImgs = [:]
  [ 11] getparam 0 .............................. <me>
  [ 13] pusharglist 1 ........................... <me>
  [ 15] objcall 1544 ............................ <me.setButtonImage()>
  [ 18] pusharglistnoret 1 ...................... <me.setButtonImage()>
  [ 20] extcall 25 .............................. return me.setButtonImage()
  [ 22] ret
end

on mouseDown me
  [  0] getprop 1549 ............................ <pBlend>
  [  3] pushint8 100 ............................ <100>
  [  5] lt ...................................... <pBlend < 100>
  [  6] getparam 0 .............................. <me>
  [  8] getchainedprop 35 ....................... <me.pSprite>
  [ 10] getobjprop 503 .......................... <me.pSprite.blend>
  [ 13] pushint8 100 ............................ <100>
  [ 15] lt ...................................... <me.pSprite.blend < 100>
  [ 16] or ...................................... <(pBlend < 100) or (me.pSprite.blend < 100)>
  [ 17] jmpifz [ 25] ............................ if (pBlend < 100) or (me.pSprite.blend < 100) then
  [ 20] pushzero ................................ <0>
  [ 21] pusharglistnoret 1 ...................... <0>
  [ 23] extcall 25 .............................. return 0
  [ 25] pushint8 1 .............................. <1>
  [ 27] setprop 547 ............................. pClickPass = 1
  [ 30] getparam 0 .............................. <me>
  [ 32] pushsymb 528 ............................ <#down>
  [ 35] pusharglistnoret 2 ...................... <me, #down>
  [ 37] objcall 1545 ............................ me.changeState(#down)
  [ 40] pushint8 1 .............................. <1>
  [ 42] pusharglistnoret 1 ...................... <1>
  [ 44] extcall 25 .............................. return 1
  [ 46] ret
end

on mouseUp me
  [  0] getprop 1549 ............................ <pBlend>
  [  3] pushint8 100 ............................ <100>
  [  5] lt ...................................... <pBlend < 100>
  [  6] getparam 0 .............................. <me>
  [  8] getchainedprop 35 ....................... <me.pSprite>
  [ 10] getobjprop 503 .......................... <me.pSprite.blend>
  [ 13] pushint8 100 ............................ <100>
  [ 15] lt ...................................... <me.pSprite.blend < 100>
  [ 16] or ...................................... <(pBlend < 100) or (me.pSprite.blend < 100)>
  [ 17] jmpifz [ 25] ............................ if (pBlend < 100) or (me.pSprite.blend < 100) then
  [ 20] pushzero ................................ <0>
  [ 21] pusharglistnoret 1 ...................... <0>
  [ 23] extcall 25 .............................. return 0
  [ 25] getprop 547 ............................. <pClickPass>
  [ 28] pushzero ................................ <0>
  [ 29] eq ...................................... <pClickPass = 0>
  [ 30] jmpifz [ 38] ............................ if pClickPass = 0 then
  [ 33] pushzero ................................ <0>
  [ 34] pusharglistnoret 1 ...................... <0>
  [ 36] extcall 25 .............................. return 0
  [ 38] pushzero ................................ <0>
  [ 39] setprop 547 ............................. pClickPass = 0
  [ 42] getparam 0 .............................. <me>
  [ 44] pushsymb 496 ............................ <#up>
  [ 47] pusharglistnoret 2 ...................... <me, #up>
  [ 49] objcall 1545 ............................ me.changeState(#up)
  [ 52] pushint8 1 .............................. <1>
  [ 54] pusharglistnoret 1 ...................... <1>
  [ 56] extcall 25 .............................. return 1
  [ 58] ret
end

on mouseUpOutSide me
  [  0] getprop 1549 ............................ <pBlend>
  [  3] pushint8 100 ............................ <100>
  [  5] lt ...................................... <pBlend < 100>
  [  6] getparam 0 .............................. <me>
  [  8] getchainedprop 35 ....................... <me.pSprite>
  [ 10] getobjprop 503 .......................... <me.pSprite.blend>
  [ 13] pushint8 100 ............................ <100>
  [ 15] lt ...................................... <me.pSprite.blend < 100>
  [ 16] or ...................................... <(pBlend < 100) or (me.pSprite.blend < 100)>
  [ 17] jmpifz [ 25] ............................ if (pBlend < 100) or (me.pSprite.blend < 100) then
  [ 20] pushzero ................................ <0>
  [ 21] pusharglistnoret 1 ...................... <0>
  [ 23] extcall 25 .............................. return 0
  [ 25] pushzero ................................ <0>
  [ 26] setprop 547 ............................. pClickPass = 0
  [ 29] getparam 0 .............................. <me>
  [ 31] pushsymb 496 ............................ <#up>
  [ 34] pusharglistnoret 2 ...................... <me, #up>
  [ 36] objcall 1545 ............................ me.changeState(#up)
  [ 39] pushzero ................................ <0>
  [ 40] pusharglistnoret 1 ...................... <0>
  [ 42] extcall 25 .............................. return 0
  [ 44] ret
end

on render me
  [  0] getparam 0 .............................. <me>
  [  2] getchainedprop 465 ...................... <me.pBuffer>
  [  5] getchainedprop 502 ...................... <me.pBuffer.image>
  [  8] getparam 0 .............................. <me>
  [ 10] getchainedprop 465 ...................... <me.pBuffer>
  [ 13] getchainedprop 502 ...................... <me.pBuffer.image>
  [ 16] getobjprop 557 .......................... <me.pBuffer.image.rect>
  [ 19] pushint16 255 ........................... <255>
  [ 22] pushint16 255 ........................... <255>
  [ 25] pushint16 255 ........................... <255>
  [ 28] pusharglist 3 ........................... <255, 255, 255>
  [ 30] extcall 578 ............................. <rgb(255, 255, 255)>
  [ 33] pusharglistnoret 3 ...................... <me.pBuffer.image, me.pBuffer.image.rect, rgb(255, 255, 255)>
  [ 35] objcall 1521 ............................ me.pBuffer.image.fill(me.pBuffer.image.rect, rgb(255, 255, 255))
  [ 38] getparam 0 .............................. <me>
  [ 40] getchainedprop 465 ...................... <me.pBuffer>
  [ 43] getchainedprop 502 ...................... <me.pBuffer.image>
  [ 46] getparam 0 .............................. <me>
  [ 48] getobjprop 498 .......................... <me.pimage>
  [ 51] getparam 0 .............................. <me>
  [ 53] getchainedprop 465 ...................... <me.pBuffer>
  [ 56] getchainedprop 502 ...................... <me.pBuffer.image>
  [ 59] getobjprop 557 .......................... <me.pBuffer.image.rect>
  [ 62] getparam 0 .............................. <me>
  [ 64] getchainedprop 498 ...................... <me.pimage>
  [ 67] getobjprop 557 .......................... <me.pimage.rect>
  [ 70] getparam 0 .............................. <me>
  [ 72] getobjprop 1495 ......................... <me.pParams>
  [ 75] pusharglistnoret 5 ...................... <me.pBuffer.image, me.pimage, me.pBuffer.image.rect, me.pimage.rect, me.pParams>
  [ 77] objcall 558 ............................. me.pBuffer.image.copyPixels(me.pimage, me.pBuffer.image.rect, me.pimage.rect, me.pParams)
  [ 80] ret
end

on changeState me, tstate
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 0 ........................... <>
  [  4] extcall 32 .............................. <VOID>
  [  6] getparam 1 .............................. <tstate>
  [  8] pusharglistnoret 3 ...................... <me, VOID, tstate>
  [ 10] objcall 450 ............................. me.UpdateImageObjects(VOID, tstate)
  [ 13] getparam 0 .............................. <me>
  [ 15] getparam 0 .............................. <me>
  [ 17] getprop 1548 ............................ <pButtonText>
  [ 20] getparam 1 .............................. <tstate>
  [ 22] pusharglist 3 ........................... <me, pButtonText, tstate>
  [ 24] objcall 1546 ............................ <me.createButtonImg(pButtonText, tstate)>
  [ 27] setobjprop 498 .......................... me.pimage = me.createButtonImg(pButtonText, tstate)
  [ 30] getparam 0 .............................. <me>
  [ 32] pusharglistnoret 1 ...................... <me>
  [ 34] objcall 449 ............................. me.render()
  [ 37] ret
end

on UpdateImageObjects me, tPalette, tstate
  [  0] pusharglist 0 ........................... <[:]>
  [  2] pushproplist ............................ <[:]>
  [  3] setprop 1551 ............................ pButtonImg = [:]
  [  6] getparam 1 .............................. <tPalette>
  [  8] pusharglist 1 ........................... <tPalette>
  [ 10] extcall 20 .............................. <voidp(tPalette)>
  [ 12] jmpifz [ 25] ............................ if voidp(tPalette) then / else
  [ 15] getparam 0 .............................. <me>
  [ 17] getobjprop 493 .......................... <me.pPalette>
  [ 20] setparam 1 .............................. tPalette = me.pPalette
  [ 22] jmp [ 46]
  [ 25] getparam 1 .............................. <tPalette>
  [ 27] pusharglist 1 ........................... <tPalette>
  [ 29] extcall 38 .............................. <stringp(tPalette)>
  [ 31] jmpifz [ 46] ............................ if stringp(tPalette) then
  [ 34] getparam 1 .............................. <tPalette>
  [ 36] pusharglist 1 ........................... <tPalette>
  [ 38] extcall 52 .............................. <getmemnum(tPalette)>
  [ 40] pusharglist 1 ........................... <getmemnum(tPalette)>
  [ 42] extcall 41 .............................. <member(getmemnum(tPalette))>
  [ 44] setparam 1 .............................. tPalette = member(getmemnum(tPalette))
  [ 46] pushsymb 466 ............................ <#left>
  [ 49] pushsymb 570 ............................ <#middle>
  [ 52] pushsymb 509 ............................ <#right>
  [ 55] pusharglist 3 ........................... <[#left, #middle, #right]>
  [ 57] pushlist ................................ <[#left, #middle, #right]>
  [ 58] peek 0
  [ 60] pusharglist 1
  [ 62] extcall 22
  [ 64] pushint8 1
  [ 66] peek 0
  [ 68] peek 2
  [ 70] lteq
  [ 71] jmpifz [255] ............................ repeat with f in [#left, #middle, #right]
  [ 74] peek 2
  [ 76] peek 1
  [ 78] pusharglist 2
  [ 80] extcall 54
  [ 82] setlocal 0
  [ 84] getprop 458 ............................. <pProp>
  [ 87] getparam 2 .............................. <tstate>
  [ 89] pusharglist 2 ........................... <pProp, tstate>
  [ 91] objcall 54 .............................. <pProp[tstate]>
  [ 93] pushsymb 555 ............................ <#members>
  [ 96] pusharglist 2 ........................... <pProp[tstate], #members>
  [ 98] objcall 54 .............................. <pProp[tstate][#members]>
  [100] getlocal 0 .............................. <f>
  [102] pusharglist 2 ........................... <pProp[tstate][#members], f>
  [104] objcall 54 .............................. <pProp[tstate][#members][f]>
  [106] setlocal 1 .............................. tDesc = pProp[tstate][#members][f]
  [108] getlocal 1 .............................. <tDesc>
  [110] pushsymb 41 ............................. <#member>
  [112] pusharglist 2 ........................... <tDesc, #member>
  [114] objcall 54 .............................. <tDesc[#member]>
  [116] pusharglist 1 ........................... <tDesc[#member]>
  [118] extcall 52 .............................. <getmemnum(tDesc[#member])>
  [120] pusharglist 1 ........................... <getmemnum(tDesc[#member])>
  [122] extcall 41 .............................. <member(getmemnum(tDesc[#member]))>
  [124] setlocal 2 .............................. tmember = member(getmemnum(tDesc[#member]))
  [126] getlocal 1 .............................. <tDesc>
  [128] pushsymb 1299 ........................... <#palette>
  [131] pusharglist 2 ........................... <tDesc, #palette>
  [133] objcall 54 .............................. <tDesc[#palette]>
  [135] pusharglist 1 ........................... <tDesc[#palette]>
  [137] extcall 20 .............................. <voidp(tDesc[#palette])>
  [139] not ..................................... <not voidp(tDesc[#palette])>
  [140] jmpifz [168] ............................ if not voidp(tDesc[#palette]) then / else
  [143] getparam 0 .............................. <me>
  [145] getlocal 1 .............................. <tDesc>
  [147] pushsymb 1299 ........................... <#palette>
  [150] pusharglist 2 ........................... <tDesc, #palette>
  [152] objcall 54 .............................. <tDesc[#palette]>
  [154] pusharglist 1 ........................... <tDesc[#palette]>
  [156] extcall 52 .............................. <getmemnum(tDesc[#palette])>
  [158] pusharglist 1 ........................... <getmemnum(tDesc[#palette])>
  [160] extcall 41 .............................. <member(getmemnum(tDesc[#palette]))>
  [162] setobjprop 493 .......................... me.pPalette = member(getmemnum(tDesc[#palette]))
  [165] jmp [175]
  [168] getparam 0 .............................. <me>
  [170] getparam 1 .............................. <tPalette>
  [172] setobjprop 493 .......................... me.pPalette = tPalette
  [175] getlocal 2 .............................. <tmember>
  [177] getchainedprop 502 ...................... <tmember.image>
  [180] pusharglist 1 ........................... <tmember.image>
  [182] objcall 554 ............................. <tmember.image.duplicate()>
  [185] setlocal 3 .............................. tImage = tmember.image.duplicate()
  [187] getlocal 1 .............................. <tDesc>
  [189] pushsymb 452 ............................ <#flipH>
  [192] pusharglist 2 ........................... <tDesc, #flipH>
  [194] objcall 54 .............................. <tDesc[#flipH]>
  [196] jmpifz [210] ............................ if tDesc[#flipH] then
  [199] getparam 0 .............................. <me>
  [201] getlocal 3 .............................. <tImage>
  [203] pusharglist 2 ........................... <me, tImage>
  [205] objcall 452 ............................. <me.flipH(tImage)>
  [208] setlocal 3 .............................. tImage = me.flipH(tImage)
  [210] getlocal 1 .............................. <tDesc>
  [212] pushsymb 453 ............................ <#flipV>
  [215] pusharglist 2 ........................... <tDesc, #flipV>
  [217] objcall 54 .............................. <tDesc[#flipV]>
  [219] jmpifz [233] ............................ if tDesc[#flipV] then
  [222] getparam 0 .............................. <me>
  [224] getlocal 3 .............................. <tImage>
  [226] pusharglist 2 ........................... <me, tImage>
  [228] objcall 453 ............................. <me.flipV(tImage)>
  [231] setlocal 3 .............................. tImage = me.flipV(tImage)
  [233] getprop 1551 ............................ <pButtonImg>
  [236] getlocal 0 .............................. <f>
  [238] pusharglist 1 ........................... <f>
  [240] extcall 572 ............................. <symbol(f)>
  [243] getlocal 3 .............................. <tImage>
  [245] pusharglistnoret 3 ...................... <pButtonImg, symbol(f), tImage>
  [247] objcall 575 ............................. pButtonImg.addProp(symbol(f), tImage)
  [250] pushint8 1
  [252] add
  [253] endrepeat [ 66]
  [255] pop 3
  [257] ret
end

on createButtonImg me, tText, tstate
  [  0] getprop 1550 ............................ <pCachedImgs>
  [  3] getparam 2 .............................. <tstate>
  [  5] pusharglist 2 ........................... <pCachedImgs, tstate>
  [  7] objcall 54 .............................. <pCachedImgs[tstate]>
  [  9] pusharglist 1 ........................... <pCachedImgs[tstate]>
  [ 11] extcall 20 .............................. <voidp(pCachedImgs[tstate])>
  [ 13] not ..................................... <not voidp(pCachedImgs[tstate])>
  [ 14] jmpifz [ 30] ............................ if not voidp(pCachedImgs[tstate]) then
  [ 17] getprop 1550 ............................ <pCachedImgs>
  [ 20] getparam 2 .............................. <tstate>
  [ 22] pusharglist 2 ........................... <pCachedImgs, tstate>
  [ 24] objcall 54 .............................. <pCachedImgs[tstate]>
  [ 26] pusharglistnoret 1 ...................... <pCachedImgs[tstate]>
  [ 28] extcall 25 .............................. return pCachedImgs[tstate]
  [ 30] pushcons 1 .............................. <"common.button.text">
  [ 32] pusharglist 1 ........................... <"common.button.text">
  [ 34] extcall 52 .............................. <getmemnum("common.button.text")>
  [ 36] setlocal 0 .............................. tMemNum = getmemnum("common.button.text")
  [ 38] getlocal 0 .............................. <tMemNum>
  [ 40] pushzero ................................ <0>
  [ 41] eq ...................................... <tMemNum = 0>
  [ 42] jmpifz [ 56] ............................ if tMemNum = 0 then
  [ 45] pushcons 1 .............................. <"common.button.text">
  [ 47] pushsymb 516 ............................ <#text>
  [ 50] pusharglist 2 ........................... <"common.button.text", #text>
  [ 52] extcall 164 ............................. <createMember("common.button.text", #text)>
  [ 54] setlocal 0 .............................. tMemNum = createMember("common.button.text", #text)
  [ 56] getlocal 0 .............................. <tMemNum>
  [ 58] pusharglist 1 ........................... <tMemNum>
  [ 60] extcall 41 .............................. <member(tMemNum)>
  [ 62] setlocal 1 .............................. tTextMem = member(tMemNum)
  [ 64] getprop 458 ............................. <pProp>
  [ 67] getparam 2 .............................. <tstate>
  [ 69] pusharglist 2 ........................... <pProp, tstate>
  [ 71] objcall 54 .............................. <pProp[tstate]>
  [ 73] pushsymb 516 ............................ <#text>
  [ 76] pusharglist 2 ........................... <pProp[tstate], #text>
  [ 78] objcall 54 .............................. <pProp[tstate][#text]>
  [ 80] setlocal 2 .............................. tFontDesc = pProp[tstate][#text]
  [ 82] getlocal 2 .............................. <tFontDesc>
  [ 84] pushsymb 596 ............................ <#font>
  [ 87] pusharglist 2 ........................... <tFontDesc, #font>
  [ 89] objcall 54 .............................. <tFontDesc[#font]>
  [ 91] setlocal 3 .............................. tFont = tFontDesc[#font]
  [ 93] getlocal 2 .............................. <tFontDesc>
  [ 95] pushsymb 597 ............................ <#fontStyle>
  [ 98] pusharglist 2 ........................... <tFontDesc, #fontStyle>
  [100] objcall 54 .............................. <tFontDesc[#fontStyle]>
  [102] pusharglist 1 ........................... <tFontDesc[#fontStyle]>
  [104] extcall 572 ............................. <symbol(tFontDesc[#fontStyle])>
  [107] pusharglist 1 ........................... <symbol(tFontDesc[#fontStyle])>
  [109] extcall 491 ............................. <list(symbol(tFontDesc[#fontStyle]))>
  [112] setlocal 4 .............................. tFontStyle = list(symbol(tFontDesc[#fontStyle]))
  [114] getlocal 2 .............................. <tFontDesc>
  [116] pushsymb 598 ............................ <#fontSize>
  [119] pusharglist 2 ........................... <tFontDesc, #fontSize>
  [121] objcall 54 .............................. <tFontDesc[#fontSize]>
  [123] setlocal 5 .............................. tFontSize = tFontDesc[#fontSize]
  [125] getlocal 2 .............................. <tFontDesc>
  [127] pushsymb 599 ............................ <#color>
  [130] pusharglist 2 ........................... <tFontDesc, #color>
  [132] objcall 54 .............................. <tFontDesc[#color]>
  [134] pusharglist 1 ........................... <tFontDesc[#color]>
  [136] extcall 578 ............................. <rgb(tFontDesc[#color])>
  [139] setlocal 6 .............................. tColor = rgb(tFontDesc[#color])
  [141] getlocal 2 .............................. <tFontDesc>
  [143] pushsymb 1298 ........................... <#bgColor>
  [146] pusharglist 2 ........................... <tFontDesc, #bgColor>
  [148] objcall 54 .............................. <tFontDesc[#bgColor]>
  [150] pusharglist 1 ........................... <tFontDesc[#bgColor]>
  [152] extcall 578 ............................. <rgb(tFontDesc[#bgColor])>
  [155] setlocal 7 .............................. tBgColor = rgb(tFontDesc[#bgColor])
  [157] getlocal 2 .............................. <tFontDesc>
  [159] pushsymb 853 ............................ <#boxType>
  [162] pusharglist 2 ........................... <tFontDesc, #boxType>
  [164] objcall 54 .............................. <tFontDesc[#boxType]>
  [166] setlocal 8 .............................. tBoxType = tFontDesc[#boxType]
  [168] getlocal 2 .............................. <tFontDesc>
  [170] pushsymb 598 ............................ <#fontSize>
  [173] pusharglist 2 ........................... <tFontDesc, #fontSize>
  [175] objcall 54 .............................. <tFontDesc[#fontSize]>
  [177] pushint8 2 .............................. <2>
  [179] add ..................................... <tFontDesc[#fontSize] + 2>
  [180] setlocal 9 .............................. tSpace = tFontDesc[#fontSize] + 2
  [182] getlocal 2 .............................. <tFontDesc>
  [184] pushsymb 592 ............................ <#marginH>
  [187] pusharglist 2 ........................... <tFontDesc, #marginH>
  [189] objcall 54 .............................. <tFontDesc[#marginH]>
  [191] setlocal 10 ............................. tMarginH = tFontDesc[#marginH]
  [193] getlocal 2 .............................. <tFontDesc>
  [195] pushsymb 590 ............................ <#marginV>
  [198] pusharglist 2 ........................... <tFontDesc, #marginV>
  [200] objcall 54 .............................. <tFontDesc[#marginV]>
  [202] setlocal 11 ............................. tMarginV = tFontDesc[#marginV]
  [204] getlocal 1 .............................. <tTextMem>
  [206] getobjprop 594 .......................... <tTextMem.wordWrap>
  [209] pushint8 1 .............................. <1>
  [211] eq ...................................... <tTextMem.wordWrap = 1>
  [212] jmpifz [221] ............................ if tTextMem.wordWrap = 1 then
  [215] getlocal 1 .............................. <tTextMem>
  [217] pushzero ................................ <0>
  [218] setobjprop 594 .......................... tTextMem.wordWrap = 0
  [221] getlocal 1 .............................. <tTextMem>
  [223] getobjprop 596 .......................... <tTextMem.font>
  [226] getlocal 3 .............................. <tFont>
  [228] nteq .................................... <tTextMem.font <> tFont>
  [229] jmpifz [239] ............................ if tTextMem.font <> tFont then
  [232] getlocal 1 .............................. <tTextMem>
  [234] getlocal 3 .............................. <tFont>
  [236] setobjprop 596 .......................... tTextMem.font = tFont
  [239] getlocal 1 .............................. <tTextMem>
  [241] getobjprop 597 .......................... <tTextMem.fontStyle>
  [244] getlocal 4 .............................. <tFontStyle>
  [246] nteq .................................... <tTextMem.fontStyle <> tFontStyle>
  [247] jmpifz [257] ............................ if tTextMem.fontStyle <> tFontStyle then
  [250] getlocal 1 .............................. <tTextMem>
  [252] getlocal 4 .............................. <tFontStyle>
  [254] setobjprop 597 .......................... tTextMem.fontStyle = tFontStyle
  [257] getlocal 1 .............................. <tTextMem>
  [259] getobjprop 598 .......................... <tTextMem.fontSize>
  [262] getlocal 5 .............................. <tFontSize>
  [264] nteq .................................... <tTextMem.fontSize <> tFontSize>
  [265] jmpifz [275] ............................ if tTextMem.fontSize <> tFontSize then
  [268] getlocal 1 .............................. <tTextMem>
  [270] getlocal 5 .............................. <tFontSize>
  [272] setobjprop 598 .......................... tTextMem.fontSize = tFontSize
  [275] getlocal 1 .............................. <tTextMem>
  [277] getobjprop 599 .......................... <tTextMem.color>
  [280] getlocal 6 .............................. <tColor>
  [282] nteq .................................... <tTextMem.color <> tColor>
  [283] jmpifz [293] ............................ if tTextMem.color <> tColor then
  [286] getlocal 1 .............................. <tTextMem>
  [288] getlocal 6 .............................. <tColor>
  [290] setobjprop 599 .......................... tTextMem.color = tColor
  [293] getlocal 1 .............................. <tTextMem>
  [295] getobjprop 1298 ......................... <tTextMem.bgColor>
  [298] getlocal 7 .............................. <tBgColor>
  [300] nteq .................................... <tTextMem.bgColor <> tBgColor>
  [301] jmpifz [311] ............................ if tTextMem.bgColor <> tBgColor then
  [304] getlocal 1 .............................. <tTextMem>
  [306] getlocal 7 .............................. <tBgColor>
  [308] setobjprop 1298 ......................... tTextMem.bgColor = tBgColor
  [311] getlocal 1 .............................. <tTextMem>
  [313] getobjprop 853 .......................... <tTextMem.boxType>
  [316] getlocal 8 .............................. <tBoxType>
  [318] nteq .................................... <tTextMem.boxType <> tBoxType>
  [319] jmpifz [329] ............................ if tTextMem.boxType <> tBoxType then
  [322] getlocal 1 .............................. <tTextMem>
  [324] getlocal 8 .............................. <tBoxType>
  [326] setobjprop 853 .......................... tTextMem.boxType = tBoxType
  [329] getlocal 1 .............................. <tTextMem>
  [331] getobjprop 477 .......................... <tTextMem.fixedLineSpace>
  [334] getlocal 9 .............................. <tSpace>
  [336] nteq .................................... <tTextMem.fixedLineSpace <> tSpace>
  [337] jmpifz [347] ............................ if tTextMem.fixedLineSpace <> tSpace then
  [340] getlocal 1 .............................. <tTextMem>
  [342] getlocal 9 .............................. <tSpace>
  [344] setobjprop 477 .......................... tTextMem.fixedLineSpace = tSpace
  [347] getlocal 1 .............................. <tTextMem>
  [349] getobjprop 516 .......................... <tTextMem.text>
  [352] getparam 1 .............................. <tText>
  [354] nteq .................................... <tTextMem.text <> tText>
  [355] jmpifz [365] ............................ if tTextMem.text <> tText then
  [358] getlocal 1 .............................. <tTextMem>
  [360] getparam 1 .............................. <tText>
  [362] setobjprop 516 .......................... tTextMem.text = tText
  [365] getprop 482 ............................. <pFixedSize>
  [368] pushint8 1 .............................. <1>
  [370] eq ...................................... <pFixedSize = 1>
  [371] jmpifz [444] ............................ if pFixedSize = 1 then / else
  [374] getparam 0 .............................. <me>
  [376] getlocal 1 .............................. <tTextMem>
  [378] pusharglist 2 ........................... <me, tTextMem>
  [380] objcall 1547 ............................ <me.getTextWidth(tTextMem)>
  [383] setlocal 12 ............................. tTextWidth = me.getTextWidth(tTextMem)
  [385] getlocal 12 ............................. <tTextWidth>
  [387] getlocal 10 ............................. <tMarginH>
  [389] pushint8 2 .............................. <2>
  [391] mul ..................................... <tMarginH * 2>
  [392] add ..................................... <tTextWidth + (tMarginH * 2)>
  [393] getprop 475 ............................. <pOrigWidth>
  [396] gt ...................................... <(tTextWidth + (tMarginH * 2)) > pOrigWidth>
  [397] jmpifz [411] ............................ if (tTextWidth + (tMarginH * 2)) > pOrigWidth then
  [400] getprop 475 ............................. <pOrigWidth>
  [403] getlocal 10 ............................. <tMarginH>
  [405] pushint8 2 .............................. <2>
  [407] mul ..................................... <tMarginH * 2>
  [408] sub ..................................... <pOrigWidth - (tMarginH * 2)>
  [409] setlocal 12 ............................. tTextWidth = pOrigWidth - (tMarginH * 2)
  [411] getlocal 1 .............................. <tTextMem>
  [413] pushzero ................................ <0>
  [414] pushzero ................................ <0>
  [415] getlocal 12 ............................. <tTextWidth>
  [417] getlocal 1 .............................. <tTextMem>
  [419] getobjprop 43 ........................... <tTextMem.height>
  [421] pusharglist 4 ........................... <0, 0, tTextWidth, tTextMem.height>
  [423] extcall 557 ............................. <rect(0, 0, tTextWidth, tTextMem.height)>
  [426] setobjprop 557 .......................... tTextMem.rect = rect(0, 0, tTextWidth, tTextMem.height)
  [429] getlocal 1 .............................. <tTextMem>
  [431] getobjprop 502 .......................... <tTextMem.image>
  [434] setlocal 13 ............................. tTextImg = tTextMem.image
  [436] getprop 475 ............................. <pOrigWidth>
  [439] setlocal 14 ............................. tWidth = pOrigWidth
  [441] jmp [516]
  [444] getparam 0 .............................. <me>
  [446] getlocal 1 .............................. <tTextMem>
  [448] pusharglist 2 ........................... <me, tTextMem>
  [450] objcall 1547 ............................ <me.getTextWidth(tTextMem)>
  [453] setlocal 12 ............................. tTextWidth = me.getTextWidth(tTextMem)
  [455] getlocal 12 ............................. <tTextWidth>
  [457] getlocal 10 ............................. <tMarginH>
  [459] pushint8 2 .............................. <2>
  [461] mul ..................................... <tMarginH * 2>
  [462] add ..................................... <tTextWidth + (tMarginH * 2)>
  [463] getprop 480 ............................. <pMaxWidth>
  [466] gt ...................................... <(tTextWidth + (tMarginH * 2)) > pMaxWidth>
  [467] jmpifz [481] ............................ if (tTextWidth + (tMarginH * 2)) > pMaxWidth then
  [470] getprop 480 ............................. <pMaxWidth>
  [473] getlocal 10 ............................. <tMarginH>
  [475] pushint8 2 .............................. <2>
  [477] mul ..................................... <tMarginH * 2>
  [478] sub ..................................... <pMaxWidth - (tMarginH * 2)>
  [479] setlocal 12 ............................. tTextWidth = pMaxWidth - (tMarginH * 2)
  [481] getlocal 1 .............................. <tTextMem>
  [483] pushzero ................................ <0>
  [484] pushzero ................................ <0>
  [485] getlocal 12 ............................. <tTextWidth>
  [487] getlocal 1 .............................. <tTextMem>
  [489] getobjprop 43 ........................... <tTextMem.height>
  [491] pusharglist 4 ........................... <0, 0, tTextWidth, tTextMem.height>
  [493] extcall 557 ............................. <rect(0, 0, tTextWidth, tTextMem.height)>
  [496] setobjprop 557 .......................... tTextMem.rect = rect(0, 0, tTextWidth, tTextMem.height)
  [499] getlocal 1 .............................. <tTextMem>
  [501] getobjprop 502 .......................... <tTextMem.image>
  [504] setlocal 13 ............................. tTextImg = tTextMem.image
  [506] getlocal 12 ............................. <tTextWidth>
  [508] getlocal 10 ............................. <tMarginH>
  [510] pushint8 2 .............................. <2>
  [512] mul ..................................... <tMarginH * 2>
  [513] add ..................................... <tTextWidth + (tMarginH * 2)>
  [514] setlocal 14 ............................. tWidth = tTextWidth + (tMarginH * 2)
  [516] getlocal 14 ............................. <tWidth>
  [518] getprop 1551 ............................ <pButtonImg>
  [521] pushsymb 466 ............................ <#left>
  [524] pusharglist 2 ........................... <pButtonImg, #left>
  [526] objcall 54 .............................. <pButtonImg[#left]>
  [528] getobjprop 43 ........................... <pButtonImg[#left].height>
  [530] getparam 0 .............................. <me>
  [532] getobjprop 1494 ......................... <me.pDepth>
  [535] getparam 0 .............................. <me>
  [537] getobjprop 493 .......................... <me.pPalette>
  [540] pusharglist 4 ........................... <tWidth, pButtonImg[#left].height, me.pDepth, me.pPalette>
  [542] extcall 502 ............................. <image(tWidth, pButtonImg[#left].height, me.pDepth, me.pPalette)>
  [545] setlocal 15 ............................. tNewImg = image(tWidth, pButtonImg[#left].height, me.pDepth, me.pPalette)
  [547] pushzero ................................ <0>
  [548] setlocal 16 ............................. tStartPointY = 0
  [550] getlocal 15 ............................. <tNewImg>
  [552] getobjprop 43 ........................... <tNewImg.height>
  [554] setlocal 17 ............................. tEndPointY = tNewImg.height
  [556] pushzero ................................ <0>
  [557] setlocal 18 ............................. tStartPointX = 0
  [559] pushzero ................................ <0>
  [560] setlocal 19 ............................. tEndPointX = 0
  [562] pushsymb 466 ............................ <#left>
  [565] pushsymb 570 ............................ <#middle>
  [568] pushsymb 509 ............................ <#right>
  [571] pusharglist 3 ........................... <[#left, #middle, #right]>
  [573] pushlist ................................ <[#left, #middle, #right]>
  [574] peek 0
  [576] pusharglist 1
  [578] extcall 22
  [580] pushint8 1
  [582] peek 0
  [584] peek 2
  [586] lteq
  [587] jmpifz [762] ............................ repeat with i in [#left, #middle, #right]
  [590] peek 2
  [592] peek 1
  [594] pusharglist 2
  [596] extcall 54
  [598] setlocal 20
  [600] getlocal 19 ............................. <tEndPointX>
  [602] setlocal 18 ............................. tStartPointX = tEndPointX
  [604] getlocal 20 ............................. <i>
  [606] peek 0 .................................. case i of
  [608] pushsymb 466 ............................ <#left>
  [611] eq
  [612] jmpifz [635] ............................ (case) #left:
  [615] getlocal 19 ............................. <tEndPointX>
  [617] getprop 1551 ............................ <pButtonImg>
  [620] getlocal 20 ............................. <i>
  [622] pusharglist 2 ........................... <pButtonImg, i>
  [624] objcall 290 ............................. <pButtonImg.getProp(i)>
  [627] getobjprop 42 ........................... <pButtonImg.getProp(i).width>
  [629] add ..................................... <tEndPointX + pButtonImg.getProp(i).width>
  [630] setlocal 19 ............................. tEndPointX = tEndPointX + pButtonImg.getProp(i).width
  [632] jmp [708]
  [635] peek 0
  [637] pushsymb 570 ............................ <#middle>
  [640] eq
  [641] jmpifz [682] ............................ (case) #middle:
  [644] getlocal 19 ............................. <tEndPointX>
  [646] getlocal 14 ............................. <tWidth>
  [648] add ..................................... <tEndPointX + tWidth>
  [649] getprop 1551 ............................ <pButtonImg>
  [652] pushsymb 466 ............................ <#left>
  [655] pusharglist 2 ........................... <pButtonImg, #left>
  [657] objcall 290 ............................. <pButtonImg.getProp(#left)>
  [660] getobjprop 42 ........................... <pButtonImg.getProp(#left).width>
  [662] sub ..................................... <tEndPointX + tWidth - pButtonImg.getProp(#left).width>
  [663] getprop 1551 ............................ <pButtonImg>
  [666] pushsymb 509 ............................ <#right>
  [669] pusharglist 2 ........................... <pButtonImg, #right>
  [671] objcall 290 ............................. <pButtonImg.getProp(#right)>
  [674] getobjprop 42 ........................... <pButtonImg.getProp(#right).width>
  [676] sub ..................................... <tEndPointX + tWidth - pButtonImg.getProp(#left).width - pButtonImg.getProp(#right).width>
  [677] setlocal 19 ............................. tEndPointX = tEndPointX + tWidth - pButtonImg.getProp(#left).width - pButtonImg.getProp(#right).width
  [679] jmp [708]
  [682] peek 0
  [684] pushsymb 509 ............................ <#right>
  [687] eq
  [688] jmpifz [708] ............................ (case) #right:
  [691] getlocal 19 ............................. <tEndPointX>
  [693] getprop 1551 ............................ <pButtonImg>
  [696] getlocal 20 ............................. <i>
  [698] pusharglist 2 ........................... <pButtonImg, i>
  [700] objcall 290 ............................. <pButtonImg.getProp(i)>
  [703] getobjprop 42 ........................... <pButtonImg.getProp(i).width>
  [705] add ..................................... <tEndPointX + pButtonImg.getProp(i).width>
  [706] setlocal 19 ............................. tEndPointX = tEndPointX + pButtonImg.getProp(i).width
  [708] pop 1 ................................... end case
  [710] getlocal 18 ............................. <tStartPointX>
  [712] getlocal 16 ............................. <tStartPointY>
  [714] getlocal 19 ............................. <tEndPointX>
  [716] getlocal 17 ............................. <tEndPointY>
  [718] pusharglist 4 ........................... <tStartPointX, tStartPointY, tEndPointX, tEndPointY>
  [720] extcall 557 ............................. <rect(tStartPointX, tStartPointY, tEndPointX, tEndPointY)>
  [723] setlocal 21 ............................. tdestrect = rect(tStartPointX, tStartPointY, tEndPointX, tEndPointY)
  [725] getlocal 15 ............................. <tNewImg>
  [727] getprop 1551 ............................ <pButtonImg>
  [730] getlocal 20 ............................. <i>
  [732] pusharglist 2 ........................... <pButtonImg, i>
  [734] objcall 290 ............................. <pButtonImg.getProp(i)>
  [737] getlocal 21 ............................. <tdestrect>
  [739] getprop 1551 ............................ <pButtonImg>
  [742] getlocal 20 ............................. <i>
  [744] pusharglist 2 ........................... <pButtonImg, i>
  [746] objcall 290 ............................. <pButtonImg.getProp(i)>
  [749] getobjprop 557 .......................... <pButtonImg.getProp(i).rect>
  [752] pusharglistnoret 4 ...................... <tNewImg, pButtonImg.getProp(i), tdestrect, pButtonImg.getProp(i).rect>
  [754] objcall 558 ............................. tNewImg.copyPixels(pButtonImg.getProp(i), tdestrect, pButtonImg.getProp(i).rect)
  [757] pushint8 1
  [759] add
  [760] endrepeat [582]
  [762] pop 3
  [764] getlocal 13 ............................. <tTextImg>
  [766] getobjprop 557 .......................... <tTextImg.rect>
  [769] pushzero ................................ <0>
  [770] getlocal 11 ............................. <tMarginV>
  [772] pushzero ................................ <0>
  [773] getlocal 11 ............................. <tMarginV>
  [775] pusharglist 4 ........................... <0, tMarginV, 0, tMarginV>
  [777] extcall 557 ............................. <rect(0, tMarginV, 0, tMarginV)>
  [780] add ..................................... <tTextImg.rect + rect(0, tMarginV, 0, tMarginV)>
  [781] setlocal 22 ............................. tDstRect = tTextImg.rect + rect(0, tMarginV, 0, tMarginV)
  [783] getlocal 2 .............................. <tFontDesc>
  [785] pushsymb 472 ............................ <#alignment>
  [788] pusharglist 2 ........................... <tFontDesc, #alignment>
  [790] objcall 54 .............................. <tFontDesc[#alignment]>
  [792] peek 0 .................................. case tFontDesc[#alignment] of
  [794] pushsymb 466 ............................ <#left>
  [797] eq
  [798] jmpifz [842] ............................ (case) #left:
  [801] getlocal 22 ............................. <tDstRect>
  [803] getprop 1551 ............................ <pButtonImg>
  [806] pushsymb 466 ............................ <#left>
  [809] pusharglist 2 ........................... <pButtonImg, #left>
  [811] objcall 290 ............................. <pButtonImg.getProp(#left)>
  [814] getobjprop 42 ........................... <pButtonImg.getProp(#left).width>
  [816] pushzero ................................ <0>
  [817] getprop 1551 ............................ <pButtonImg>
  [820] pushsymb 466 ............................ <#left>
  [823] pusharglist 2 ........................... <pButtonImg, #left>
  [825] objcall 290 ............................. <pButtonImg.getProp(#left)>
  [828] getobjprop 42 ........................... <pButtonImg.getProp(#left).width>
  [830] pushzero ................................ <0>
  [831] pusharglist 4 ........................... <pButtonImg.getProp(#left).width, 0, pButtonImg.getProp(#left).width, 0>
  [833] extcall 557 ............................. <rect(pButtonImg.getProp(#left).width, 0, pButtonImg.getProp(#left).width, 0)>
  [836] add ..................................... <tDstRect + rect(pButtonImg.getProp(#left).width, 0, pButtonImg.getProp(#left).width, 0)>
  [837] setlocal 22 ............................. tDstRect = tDstRect + rect(pButtonImg.getProp(#left).width, 0, pButtonImg.getProp(#left).width, 0)
  [839] jmp [967]
  [842] peek 0
  [844] pushsymb 508 ............................ <#center>
  [847] eq
  [848] jmpifz [898] ............................ (case) #center:
  [851] getlocal 22 ............................. <tDstRect>
  [853] getlocal 15 ............................. <tNewImg>
  [855] getobjprop 42 ........................... <tNewImg.width>
  [857] pushint8 2 .............................. <2>
  [859] div ..................................... <tNewImg.width / 2>
  [860] pushzero ................................ <0>
  [861] getlocal 15 ............................. <tNewImg>
  [863] getobjprop 42 ........................... <tNewImg.width>
  [865] pushint8 2 .............................. <2>
  [867] div ..................................... <tNewImg.width / 2>
  [868] pushzero ................................ <0>
  [869] pusharglist 4 ........................... <tNewImg.width / 2, 0, tNewImg.width / 2, 0>
  [871] extcall 557 ............................. <rect(tNewImg.width / 2, 0, tNewImg.width / 2, 0)>
  [874] add ..................................... <tDstRect + rect(tNewImg.width / 2, 0, tNewImg.width / 2, 0)>
  [875] getlocal 12 ............................. <tTextWidth>
  [877] pushint8 2 .............................. <2>
  [879] div ..................................... <tTextWidth / 2>
  [880] pushzero ................................ <0>
  [881] getlocal 12 ............................. <tTextWidth>
  [883] pushint8 2 .............................. <2>
  [885] div ..................................... <tTextWidth / 2>
  [886] pushzero ................................ <0>
  [887] pusharglist 4 ........................... <tTextWidth / 2, 0, tTextWidth / 2, 0>
  [889] extcall 557 ............................. <rect(tTextWidth / 2, 0, tTextWidth / 2, 0)>
  [892] sub ..................................... <tDstRect + rect(tNewImg.width / 2, 0, tNewImg.width / 2, 0) - rect(tTextWidth / 2, 0, tTextWidth / 2, 0)>
  [893] setlocal 22 ............................. tDstRect = tDstRect + rect(tNewImg.width / 2, 0, tNewImg.width / 2, 0) - rect(tTextWidth / 2, 0, tTextWidth / 2, 0)
  [895] jmp [967]
  [898] peek 0
  [900] pushsymb 509 ............................ <#right>
  [903] eq
  [904] jmpifz [967] ............................ (case) #right:
  [907] getlocal 22 ............................. <tDstRect>
  [909] getlocal 15 ............................. <tNewImg>
  [911] getobjprop 42 ........................... <tNewImg.width>
  [913] pushzero ................................ <0>
  [914] getlocal 15 ............................. <tNewImg>
  [916] getobjprop 42 ........................... <tNewImg.width>
  [918] pushzero ................................ <0>
  [919] pusharglist 4 ........................... <tNewImg.width, 0, tNewImg.width, 0>
  [921] extcall 557 ............................. <rect(tNewImg.width, 0, tNewImg.width, 0)>
  [924] add ..................................... <tDstRect + rect(tNewImg.width, 0, tNewImg.width, 0)>
  [925] getlocal 12 ............................. <tTextWidth>
  [927] getprop 1551 ............................ <pButtonImg>
  [930] pushsymb 509 ............................ <#right>
  [933] pusharglist 2 ........................... <pButtonImg, #right>
  [935] objcall 290 ............................. <pButtonImg.getProp(#right)>
  [938] getobjprop 42 ........................... <pButtonImg.getProp(#right).width>
  [940] add ..................................... <tTextWidth + pButtonImg.getProp(#right).width>
  [941] pushzero ................................ <0>
  [942] getlocal 12 ............................. <tTextWidth>
  [944] getprop 1551 ............................ <pButtonImg>
  [947] pushsymb 509 ............................ <#right>
  [950] pusharglist 2 ........................... <pButtonImg, #right>
  [952] objcall 290 ............................. <pButtonImg.getProp(#right)>
  [955] getobjprop 42 ........................... <pButtonImg.getProp(#right).width>
  [957] add ..................................... <tTextWidth + pButtonImg.getProp(#right).width>
  [958] pushzero ................................ <0>
  [959] pusharglist 4 ........................... <tTextWidth + pButtonImg.getProp(#right).width, 0, tTextWidth + pButtonImg.getProp(#right).width, 0>
  [961] extcall 557 ............................. <rect(tTextWidth + pButtonImg.getProp(#right).width, 0, tTextWidth + pButtonImg.getProp(#right).width, 0)>
  [964] sub ..................................... <tDstRect + rect(tNewImg.width, 0, tNewImg.width, 0) - rect(tTextWidth + pButtonImg.getProp(#right).width, 0, tTextWidth + pButtonImg.getProp(#right).width, 0)>
  [965] setlocal 22 ............................. tDstRect = tDstRect + rect(tNewImg.width, 0, tNewImg.width, 0) - rect(tTextWidth + pButtonImg.getProp(#right).width, 0, tTextWidth + pButtonImg.getProp(#right).width, 0)
  [967] pop 1 ................................... end case
  [969] getlocal 15 ............................. <tNewImg>
  [971] getlocal 13 ............................. <tTextImg>
  [973] getlocal 22 ............................. <tDstRect>
  [975] getlocal 13 ............................. <tTextImg>
  [977] getobjprop 557 .......................... <tTextImg.rect>
  [980] pushsymb 562 ............................ <#ink>
  [983] pushint8 36 ............................. <36>
  [985] pusharglist 2 ........................... <[#ink: 36]>
  [987] pushproplist ............................ <[#ink: 36]>
  [988] pusharglistnoret 5 ...................... <tNewImg, tTextImg, tDstRect, tTextImg.rect, [#ink: 36]>
  [990] objcall 558 ............................. tNewImg.copyPixels(tTextImg, tDstRect, tTextImg.rect, [#ink: 36])
  [993] getprop 1550 ............................ <pCachedImgs>
  [996] getparam 2 .............................. <tstate>
  [998] getlocal 15 ............................. <tNewImg>
  [1000] pusharglistnoret 3 ..................... <pCachedImgs, tstate, tNewImg>
  [1002] objcall 24 ............................. pCachedImgs[tstate] = tNewImg
  [1004] getlocal 15 ............................ <tNewImg>
  [1006] pusharglistnoret 1 ..................... <tNewImg>
  [1008] extcall 25 ............................. return tNewImg
  [1010] ret
end

on flipH me, tImg
  [  0] getparam 1 .............................. <tImg>
  [  2] getobjprop 42 ........................... <tImg.width>
  [  4] getparam 1 .............................. <tImg>
  [  6] getobjprop 43 ........................... <tImg.height>
  [  8] getparam 1 .............................. <tImg>
  [ 10] getobjprop 542 .......................... <tImg.depth>
  [ 13] getparam 1 .............................. <tImg>
  [ 15] getobjprop 573 .......................... <tImg.paletteRef>
  [ 18] pusharglist 4 ........................... <tImg.width, tImg.height, tImg.depth, tImg.paletteRef>
  [ 20] extcall 502 ............................. <image(tImg.width, tImg.height, tImg.depth, tImg.paletteRef)>
  [ 23] setlocal 0 .............................. tImage = image(tImg.width, tImg.height, tImg.depth, tImg.paletteRef)
  [ 25] getparam 1 .............................. <tImg>
  [ 27] getobjprop 42 ........................... <tImg.width>
  [ 29] pushzero ................................ <0>
  [ 30] pusharglist 2 ........................... <tImg.width, 0>
  [ 32] extcall 510 ............................. <point(tImg.width, 0)>
  [ 35] pushzero ................................ <0>
  [ 36] pushzero ................................ <0>
  [ 37] pusharglist 2 ........................... <0, 0>
  [ 39] extcall 510 ............................. <point(0, 0)>
  [ 42] pushzero ................................ <0>
  [ 43] getparam 1 .............................. <tImg>
  [ 45] getobjprop 43 ........................... <tImg.height>
  [ 47] pusharglist 2 ........................... <0, tImg.height>
  [ 49] extcall 510 ............................. <point(0, tImg.height)>
  [ 52] getparam 1 .............................. <tImg>
  [ 54] getobjprop 42 ........................... <tImg.width>
  [ 56] getparam 1 .............................. <tImg>
  [ 58] getobjprop 43 ........................... <tImg.height>
  [ 60] pusharglist 2 ........................... <tImg.width, tImg.height>
  [ 62] extcall 510 ............................. <point(tImg.width, tImg.height)>
  [ 65] pusharglist 4 ........................... <[point(tImg.width, 0), point(0, 0), point(0, tImg.height), point(tImg.width, tImg.height)]>
  [ 67] pushlist ................................ <[point(tImg.width, 0), point(0, 0), point(0, tImg.height), point(tImg.width, tImg.height)]>
  [ 68] setlocal 1 .............................. tQuad = [point(tImg.width, 0), point(0, 0), point(0, tImg.height), point(tImg.width, tImg.height)]
  [ 70] getlocal 0 .............................. <tImage>
  [ 72] getparam 1 .............................. <tImg>
  [ 74] getlocal 1 .............................. <tQuad>
  [ 76] getparam 1 .............................. <tImg>
  [ 78] getobjprop 557 .......................... <tImg.rect>
  [ 81] pusharglistnoret 4 ...................... <tImage, tImg, tQuad, tImg.rect>
  [ 83] objcall 558 ............................. tImage.copyPixels(tImg, tQuad, tImg.rect)
  [ 86] getlocal 0 .............................. <tImage>
  [ 88] pusharglistnoret 1 ...................... <tImage>
  [ 90] extcall 25 .............................. return tImage
  [ 92] ret
end

on flipV me, tImg
  [  0] getparam 1 .............................. <tImg>
  [  2] getobjprop 42 ........................... <tImg.width>
  [  4] getparam 1 .............................. <tImg>
  [  6] getobjprop 43 ........................... <tImg.height>
  [  8] getparam 1 .............................. <tImg>
  [ 10] getobjprop 542 .......................... <tImg.depth>
  [ 13] getparam 1 .............................. <tImg>
  [ 15] getobjprop 573 .......................... <tImg.paletteRef>
  [ 18] pusharglist 4 ........................... <tImg.width, tImg.height, tImg.depth, tImg.paletteRef>
  [ 20] extcall 502 ............................. <image(tImg.width, tImg.height, tImg.depth, tImg.paletteRef)>
  [ 23] setlocal 0 .............................. tImage = image(tImg.width, tImg.height, tImg.depth, tImg.paletteRef)
  [ 25] pushzero ................................ <0>
  [ 26] getparam 1 .............................. <tImg>
  [ 28] getobjprop 43 ........................... <tImg.height>
  [ 30] pusharglist 2 ........................... <0, tImg.height>
  [ 32] extcall 510 ............................. <point(0, tImg.height)>
  [ 35] getparam 1 .............................. <tImg>
  [ 37] getobjprop 42 ........................... <tImg.width>
  [ 39] getparam 1 .............................. <tImg>
  [ 41] getobjprop 43 ........................... <tImg.height>
  [ 43] pusharglist 2 ........................... <tImg.width, tImg.height>
  [ 45] extcall 510 ............................. <point(tImg.width, tImg.height)>
  [ 48] getparam 1 .............................. <tImg>
  [ 50] getobjprop 42 ........................... <tImg.width>
  [ 52] pushzero ................................ <0>
  [ 53] pusharglist 2 ........................... <tImg.width, 0>
  [ 55] extcall 510 ............................. <point(tImg.width, 0)>
  [ 58] pushzero ................................ <0>
  [ 59] pushzero ................................ <0>
  [ 60] pusharglist 2 ........................... <0, 0>
  [ 62] extcall 510 ............................. <point(0, 0)>
  [ 65] pusharglist 4 ........................... <[point(0, tImg.height), point(tImg.width, tImg.height), point(tImg.width, 0), point(0, 0)]>
  [ 67] pushlist ................................ <[point(0, tImg.height), point(tImg.width, tImg.height), point(tImg.width, 0), point(0, 0)]>
  [ 68] setlocal 1 .............................. tQuad = [point(0, tImg.height), point(tImg.width, tImg.height), point(tImg.width, 0), point(0, 0)]
  [ 70] getlocal 0 .............................. <tImage>
  [ 72] getparam 1 .............................. <tImg>
  [ 74] getlocal 1 .............................. <tQuad>
  [ 76] getparam 1 .............................. <tImg>
  [ 78] getobjprop 557 .......................... <tImg.rect>
  [ 81] pusharglistnoret 4 ...................... <tImage, tImg, tQuad, tImg.rect>
  [ 83] objcall 558 ............................. tImage.copyPixels(tImg, tQuad, tImg.rect)
  [ 86] getlocal 0 .............................. <tImage>
  [ 88] pusharglistnoret 1 ...................... <tImage>
  [ 90] extcall 25 .............................. return tImage
  [ 92] ret
end

on getTextWidth me, tTextMem
  [  0] getprop 480 ............................. <pMaxWidth>
  [  3] setlocal 0 .............................. tOrigWidth = pMaxWidth
  [  5] pushint8 30 ............................. <30>
  [  7] setlocal 1 .............................. tOrigHeight = 30
  [  9] getparam 1 .............................. <tTextMem>
  [ 11] getobjprop 557 .......................... <tTextMem.rect>
  [ 14] setlocal 2 .............................. tStoreRect = tTextMem.rect
  [ 16] getparam 1 .............................. <tTextMem>
  [ 18] pushzero ................................ <0>
  [ 19] pushzero ................................ <0>
  [ 20] getlocal 0 .............................. <tOrigWidth>
  [ 22] getlocal 1 .............................. <tOrigHeight>
  [ 24] pusharglist 4 ........................... <0, 0, tOrigWidth, tOrigHeight>
  [ 26] extcall 557 ............................. <rect(0, 0, tOrigWidth, tOrigHeight)>
  [ 29] setobjprop 557 .......................... tTextMem.rect = rect(0, 0, tOrigWidth, tOrigHeight)
  [ 32] getlocal 0 .............................. <tOrigWidth>
  [ 34] getlocal 1 .............................. <tOrigHeight>
  [ 36] pushint8 32 ............................. <32>
  [ 38] pusharglist 3 ........................... <tOrigWidth, tOrigHeight, 32>
  [ 40] extcall 502 ............................. <image(tOrigWidth, tOrigHeight, 32)>
  [ 43] setlocal 3 .............................. tImage = image(tOrigWidth, tOrigHeight, 32)
  [ 45] getlocal 3 .............................. <tImage>
  [ 47] getparam 1 .............................. <tTextMem>
  [ 49] getobjprop 502 .......................... <tTextMem.image>
  [ 52] pushzero ................................ <0>
  [ 53] pushzero ................................ <0>
  [ 54] getlocal 0 .............................. <tOrigWidth>
  [ 56] getlocal 1 .............................. <tOrigHeight>
  [ 58] pusharglist 4 ........................... <0, 0, tOrigWidth, tOrigHeight>
  [ 60] extcall 557 ............................. <rect(0, 0, tOrigWidth, tOrigHeight)>
  [ 63] pushzero ................................ <0>
  [ 64] pushzero ................................ <0>
  [ 65] getlocal 0 .............................. <tOrigWidth>
  [ 67] getlocal 1 .............................. <tOrigHeight>
  [ 69] pusharglist 4 ........................... <0, 0, tOrigWidth, tOrigHeight>
  [ 71] extcall 557 ............................. <rect(0, 0, tOrigWidth, tOrigHeight)>
  [ 74] pusharglistnoret 4 ...................... <tImage, tTextMem.image, rect(0, 0, tOrigWidth, tOrigHeight), rect(0, 0, tOrigWidth, tOrigHeight)>
  [ 76] objcall 558 ............................. tImage.copyPixels(tTextMem.image, rect(0, 0, tOrigWidth, tOrigHeight), rect(0, 0, tOrigWidth, tOrigHeight))
  [ 79] getlocal 3 .............................. <tImage>
  [ 81] pusharglist 1 ........................... <tImage>
  [ 83] objcall 1155 ............................ <tImage.trimWhiteSpace()>
  [ 86] getobjprop 42 ........................... <tImage.trimWhiteSpace().width>
  [ 88] setlocal 4 .............................. tTextWidth = tImage.trimWhiteSpace().width
  [ 90] getparam 1 .............................. <tTextMem>
  [ 92] getlocal 2 .............................. <tStoreRect>
  [ 94] setobjprop 557 .......................... tTextMem.rect = tStoreRect
  [ 97] getlocal 4 .............................. <tTextWidth>
  [ 99] pusharglistnoret 1 ...................... <tTextWidth>
  [101] extcall 25 .............................. return tTextWidth
  [103] ret
end
